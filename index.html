<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/main.css">
    <title>Preload JS test</title>
</head>
<body>

    <div id="progress"></div>
    <div id="gallery">

    </div>
    
</body>

<script src="https://code.createjs.com/1.0.0/preloadjs.min.js"></script>

<script>

    const progress = document.getElementById('progress')
    const gallery = document.getElementById('gallery')
    const queue = new createjs.LoadQueue(false);

    queue.on("progress", event => {
    
        let progress = Math.floor(event.progress * 100)
        this.progress.style.width = progress + '%'
        if(progress == 100){
            console.log('all done')
            
        }
    })

    queue.on("complete", event => {
    
        progress.classList.add('fadeOut')
        
    })

    queue.on('fileload', event => {
        
        const item = event.item
        const type = event.type

        gallery.appendChild(event.result)
        
    })


    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')
    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')
    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')
    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')
    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')
    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')
    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')
    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')
    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')
    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')
    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')
    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')
    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')
    queue.loadFile('https://s3.amazonaws.com/coursetro/stuff/mountains-clouds.jpg')

</script>

</html>